<h1 id="req-socket">req.socket</h1>
<p>If the current Request (<code>req</code>) originated from a connected Socket.io client, <code>req.socket</code> refers to the raw Socket.io socket instance.</p>
<h3 id="usage" permalink="usage">Usage</h3>
<pre><code class="javascript">req.socket;
</code></pre><!-- __LANG=%%__ -->
<h3 id="details" permalink="details">Details</h3>
<blockquote>
<p><strong>Warning:</strong></p>
<p><code>req.socket</code> may be deprecated in a future release of Sails.  You should use the <a href="/documentation/reference/Sockets"><code>sails.sockets.*</code></a> methods instead.</p>
</blockquote>
<p>If the current request (<code>req</code>) did NOT originate from a Socket.io client, <code>req.socket</code> does not have the same meaning.  In the most common scenario, HTTP requests, <code>req.socket</code> actually <em>does exist</em>, but it refers instead to the underlying TCP socket. Before using <code>req.socket</code>, you should check the <a href="/documentation/reference/req/req.isSocket.html"><code>req.isSocket</code></a> flag to ensure the request arrived via a connected Socket.io client.</p>
<p><code>req.socket.id</code> is a unique identifier representing the current socket.  This is generated by the Socket.io server when a client first connects, and is a valid unique identifier until the socket is disconnected (e.g. if the client is a web browser, until the user closes her browser tab.)</p>
<p>Sails also provides direct, low-level access to all of the other methods and properties from a Socket.io <code>Socket</code>, including <code>req.socket</code>, including <code>req.socket.join</code>, <code>req.socket.leave</code>, <code>req.socket.broadcast</code>, and more.  See the relevant docs in the <a href="https://github.com/LearnBoost/socket.io/wiki/Rooms" target="_blank">Socket.io wiki</a> for more information.</p>
<h3 id="example" permalink="example">Example</h3>
<pre><code class="javascript">if (req.isSocket) {
  // Low-level Socket.io methods and properties accessible on req.socket.
  // ...
}
else {
  // This is not a request from a Socket.io client, so req.socket
  // may or may not exist.  If this is an HTTP request, req.socket is actually
  // the underlying TCP socket.
  // ...
}
</code></pre><!-- __LANG=%%__ -->
<p><docmeta name="displayName" value="req.socket"></docmeta></p>
<docmeta name="pageType" value="property">

</docmeta>